<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin:0;
			padding:0;
		}
		#box{
			width:500px;
			height:500px;
			margin: 0 auto;
		}
		#cvs{
			background: #ccc;
		}
	</style>
</head>
<body>
	<div id="box">
		<canvas id="cvs" width="500" height="500"></canvas>
	</div>
	<!--<img id="imgs" src="" alt="">-->
	<button id="but">按钮</button>

	<!--<script>
		var cvs=document.getElementById('cvs');
		var imgs=document.getElementById('imgs');
		var ctx=cvs.getContext('2d');
		var img=new Image();
		img.src='we12.png';
		img.onload=function () {
//			ctx.drawImage(img,100,100);
//			ctx.drawImage(img,100,100,100,100);
//			ctx.drawImage(img,50,50,50,50,100,100,200,200);

//			var pat=ctx.createPattern(img,'repeat');
//			ctx.fillStyle=pat;
//			ctx.fillRect(100,100,200,200);

			ctx.drawImage(img,100,100);
			var imgdata=ctx.getImageData(200,200,100,100);
			console.log(imgdata.data.length);
			console.log(imgdata.data);


			for(var i=0;i<imgdata.data.length;i+=4){
				imgdata.data[i]=255-imgdata.data[i];
				imgdata.data[i+1]=255-imgdata.data[i+1];
				imgdata.data[i+2]=255-imgdata.data[i+2];
				imgdata.data[i+3]=255;

			}
			ctx.putImageData(imgdata,400,400);

			var imgurl=cvs.toDataURL('image/jpeg',1)
			imgs.src=imgurl;
		}

	</script>-->
	<script>
		var cvs=document.getElementById('cvs');
		var ctx=cvs.getContext('2d');
		var but=document.getElementById('but');

		ctx.save();
		ctx.beginPath();
		ctx.fillStyle='red';
//		ctx.translate(100,100);
		ctx.rotate(30*Math.PI/180);
		ctx.fillRect(0,0,200,100);
		ctx.closePath();

		ctx.beginPath();
//		ctx.rotate(30*Math.PI/180);
		ctx.scale(2,2);
		ctx.strokeRect(100,100,200,100);
		ctx.closePath();

		ctx.restore();
		ctx.beginPath();
		ctx.fillRect(200,200,100,100);
		ctx.closePath();

		but.onclick=function () {
			ctx.clearRect(0,0,cvs.width,cvs.height);
		}

	</script>
</body>
</html>